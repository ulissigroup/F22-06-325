
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Predicting Wildfire Smoke Composition &#8212; Numerical Methods and ML for ChE (F22-06-325)</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using ML to Predict Catalyst Properties" href="../catalysts/catalyst_simulation.html" />
    <link rel="prev" title="Course Project Overview" href="../overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Numerical Methods and ML for ChE (F22-06-325)</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Introduction & License
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Info
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../notes.html">
   Logistics/Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../schedule.html">
   Course schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus.html">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../software.html">
   Software Environments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../helpful_resources.html">
   Helpful Resources
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Notes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../notes/recap.html">
   Recap of Numerical Methods
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/review_odes.html">
     ODE Integration (with Events!)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/ode_events_extra_example.html">
     More complicated example: Van der Pol oscillator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/review_optimization.html">
     Local Optimization and Curve Fitting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../notes/intro_ml.html">
   Introduction to Machine Learning
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/ml_basics.html">
     Intro to Supervised Learning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/overfitting_regularization.html">
     Model Capacity, Overfitting, Regularization, and Ridge/LASSO
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../notes/classification_logistic_regression.html">
     Linear models for classification
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../labs/overview.html">
   Labs and Python/Software Tips
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../labs/python_debugging.html">
     <font color="red">
      Python functions, Error handling, Exceptions, Debugging
     </font>
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../overview.html">
   Course Project Overview
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Predicting Wildfire Smoke Composition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../catalysts/catalyst_simulation.html">
     Using ML to Predict Catalyst Properties
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../travelling_salesman/travelling_salesman.html">
     Finding optimal tours for the Travelling Salesman Problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../homeworks/homework.html">
   Homeworks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../homeworks/HW1.html">
     HW1 (due noon Monday 9/5)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../homeworks/HW2.html">
     HW2 (due 9/12)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../homeworks/HW3.html">
     HW3 (due 9/26)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../homeworks/hw_solutions.html">
     Homework solutions
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/ulissigroup/F22-06-325/main?urlpath=lab/tree/f22-06-325/projects/wildfires/wildfire_dataset.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://laikapack-head.cheme.cmu.edu/hub/hub/user-redirect/git-pull?repo=https%3A//github.com/ulissigroup/F22-06-325&urlpath=lab/tree/F22-06-325/f22-06-325/projects/wildfires/wildfire_dataset.ipynb&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/ulissigroup/F22-06-325/blob/main/f22-06-325/projects/wildfires/wildfire_dataset.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ulissigroup/F22-06-325"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ulissigroup/F22-06-325/issues/new?title=Issue%20on%20page%20%2Fprojects/wildfires/wildfire_dataset.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/projects/wildfires/wildfire_dataset.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="../../_sources/projects/wildfires/wildfire_dataset.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#suggested-challenges">
   Suggested challenges
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset-download-availability-instructions">
   Dataset download/availability instructions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset-file-format-details">
   Dataset/file format details
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hints-and-possible-approaches">
   Hints and possible approaches
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-model">
   Example Model
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-in-data">
     Loading in Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#blodgettcombinedblobtable-csv">
       BlodgettCombinedBlobTable.csv
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#all-shrubcovonly-01-16-xlsx">
       All_ShrubCovOnly_01_16.xlsx
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bfrsplantcodes-xlsx">
       BFRSPlantCodes.xlsx
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#run-log-xlsx">
       Run_Log.xlsx
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#predicting-mass-concentration-from-bloblid">
     Predicting Mass Concentration from BloblID
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Predicting Wildfire Smoke Composition</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#suggested-challenges">
   Suggested challenges
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset-download-availability-instructions">
   Dataset download/availability instructions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset-file-format-details">
   Dataset/file format details
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hints-and-possible-approaches">
   Hints and possible approaches
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-model">
   Example Model
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-in-data">
     Loading in Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#blodgettcombinedblobtable-csv">
       BlodgettCombinedBlobTable.csv
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#all-shrubcovonly-01-16-xlsx">
       All_ShrubCovOnly_01_16.xlsx
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bfrsplantcodes-xlsx">
       BFRSPlantCodes.xlsx
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#run-log-xlsx">
       Run_Log.xlsx
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#predicting-mass-concentration-from-bloblid">
     Predicting Mass Concentration from BloblID
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <p><img alt="wildfire" src="../../_images/prescribed_burn_public_domain.jpg" /></p>
<section class="tex2jax_ignore mathjax_ignore" id="predicting-wildfire-smoke-composition">
<h1>Predicting Wildfire Smoke Composition<a class="headerlink" href="#predicting-wildfire-smoke-composition" title="Permalink to this headline">#</a></h1>
<p>Prof. Jen is a world-expert at understanding the composition and wildfire smokes. In 2017, she was part of an experimental campaign to map the composition of smokes for controlled wildfire burns for several specific plots of forest at the Blodgett Forest Research Station in Georgetown, CA.</p>
<p>Prof. Jen and her collaborators exposed filters to the burns at either ground level or at elevation using remote-controlled drones (each drone had three filters). They then took those filters and used a special analytic technique (GCxGC/MS, which you probably learned about in analytical chem) to identify unique spectral signatures of compounds present in the filters. In a few cases they know the compounds that generate specific signatures, but in many cases it’s unclear exactly which compound led to a specific GCxGC/MS signature.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Wildfire dataset summary:</strong></p>
<ul class="simple">
<li><p>3 different plots of land (with labels 60, 340, 400) were burned. One unburned plot was also included as a control (0).</p></li>
<li><p>Each plot was sampled multiple times at varying times.</p>
<ul>
<li><p>Plots were sampled at the ground level in triplicate (3 filters)</p></li>
<li><p>Plots were sampled with drones at elevation in triplicate (3 filters)</p></li>
</ul>
</li>
<li><p>All filters were collected and analyzed with GCxGC/MS. The unique ID of blobs present and the associated concentration on the filter were recorded.</p></li>
<li><p>The prevalent plants and foliage present in each plot is also known based on a previous survey of the regions.</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>You can read more about how one of Prof. Jen’s collaborators analyzed this data <a class="reference external" href="https://www.climatechange.ai/papers/neurips2020/82">here</a>. That same site includes both a paper and a short video by a collaborator on the specific analysis tried.</p>
</div>
<section id="suggested-challenges">
<h2>Suggested challenges<a class="headerlink" href="#suggested-challenges" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Given a filter and a set of observed blobs, predict whether that filter was exposed at ground level or at elevation (with a drone)</p></li>
<li><p>Given the filter of a filter at elevation (drone, easy to collect data), predict the blobs and their concentrations for the ground level measurements (harder to collect data)</p></li>
<li><p>[much harder] Given the filter and a set of observed blobs, predict the types of plants present in the plot of land</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In each case, you should think critically about the question how you want to set up your train/validation/test splits to simulate the challenge.</p>
<ul class="simple">
<li><p>What do you expect to be correlated?</p></li>
<li><p>How would you know if your model is helpful?</p></li>
<li><p>Is there any way to cheat at the task?</p></li>
</ul>
</div>
</section>
<section id="dataset-download-availability-instructions">
<h2>Dataset download/availability instructions<a class="headerlink" href="#dataset-download-availability-instructions" title="Permalink to this headline">#</a></h2>
<p>https://github.com/ulissigroup/F22-06-325/tree/main/f22-06-325/projects/wildfires/data</p>
</section>
<section id="dataset-file-format-details">
<h2>Dataset/file format details<a class="headerlink" href="#dataset-file-format-details" title="Permalink to this headline">#</a></h2>
<ol>
<li><p>BlodgettCombinedBlobMass.csv is a spreadsheet that gives the electron ionization mass spectrum for each compound detected during the Blodgett field campaign.</p>
<ul class="simple">
<li><p>The mass spectrum (each element) is written as mass, signal; mass, signal; etc.</p></li>
<li><p>The row number corresponds to the compound of the same row number found in BlodgettCombinedBlobTable.csv</p></li>
</ul>
</li>
<li><p>BlodgettCombinedBlobTable.cvs contains all compound 2 dimension gas chromatography data from all samples collected from Blodgett 2017. The column headings are:</p>
<ol class="simple">
<li><p>Unused tag</p></li>
<li><p>BlobID_1</p></li>
<li><p>Unused Tag</p></li>
<li><p>1D retention time (min)</p></li>
<li><p>2D retention time (sec)</p></li>
<li><p>Peak height</p></li>
<li><p>Peak volume</p></li>
<li><p>Peak volume divided by nearest internal standard peak volume</p></li>
<li><p>Calculated d-alkane retention index</p></li>
<li><p>matched retention index (this number should be super close to the retention index in column 9)</p></li>
<li><p>Unused tag</p></li>
<li><p>Unused tag</p></li>
<li><p>Unused tag</p></li>
<li><p>BlobID_2</p></li>
<li><p>Filter number. This is the filter number that can be linked to where and when the sample was collected</p></li>
<li><p>Unused tag</p></li>
<li><p>Mass concentration of this compound (ng/m3)</p></li>
</ol>
<ul class="simple">
<li><p>BlobID_1 and BlobID_2 (column 2 and 14) define the unique ID of a blob that can be tracked across the different burns. In other words, a compound (blob) with an ID of 1,176 is the same compound in filter 201 and filter 202.</p></li>
<li><p>The d-alkane retention index (column 10) and 2nd dimension retention time (column 5) define the unique x,y position the compound sits in the chromatogram. No two compounds will have the same x,y coordinate.</p></li>
<li><p>Mass concentration defines the amount of compound that exists in the smoke.</p></li>
</ul>
</li>
<li><p>Run Log.xlsx details where each filter was collected in Blodgett by GPS location and forest plot that burned. Tab “Flight Log” provides the details of filters collected from the drone. Tab “ground Station” provides details of filters collected at ground level.</p></li>
<li><p>All_Shrubcovony_01_16.xlsx displays the types of shrubs that grew at Blodgett. The sheet of interest is “16” which stands for 2016 when they conducted a plant inventory. Focus on Unit (1st column) 60, 340, and 400 which stand for the plots that we burned at Blodgett. Species column lists the shorthand for the shrub/grass that they observed growing in the plot. BFRSPlantCodes.xlsx translate the shorthand plant code to a real plant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2017</span> <span class="pre">rx</span> <span class="pre">burning_topos.pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">BFRSWallMap2017.pdf</span></code> Pictures of the units burned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Filters</span> <span class="pre">vs</span> <span class="pre">forest</span> <span class="pre">plot</span> <span class="pre">number.xlsx</span></code>: A more explicit listing of which forest unit each filter was collected at.</p></li>
</ol>
</section>
<section id="hints-and-possible-approaches">
<h2>Hints and possible approaches<a class="headerlink" href="#hints-and-possible-approaches" title="Permalink to this headline">#</a></h2>
</section>
<section id="example-model">
<h2>Example Model<a class="headerlink" href="#example-model" title="Permalink to this headline">#</a></h2>
<section id="loading-in-data">
<h3>Loading in Data<a class="headerlink" href="#loading-in-data" title="Permalink to this headline">#</a></h3>
<p>Let’s start by uploading the data. We’ll start with BlodgettCombinedBlobTable.csv.</p>
<section id="blodgettcombinedblobtable-csv">
<h4>BlodgettCombinedBlobTable.csv<a class="headerlink" href="#blodgettcombinedblobtable-csv" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># define column names</span>
<span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Unused tags 1&quot;</span><span class="p">,</span> <span class="s2">&quot;BlobID1&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 2&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;1D Retention Time (min)&quot;</span><span class="p">,</span> <span class="s2">&quot;2D Retention Time (sec)&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;Peak Height&quot;</span><span class="p">,</span> <span class="s2">&quot;Peak Volume&quot;</span><span class="p">,</span> <span class="s2">&quot;Peak volume/nearest internal standard peak volume&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;Calculated d-alkane retention index&quot;</span><span class="p">,</span> <span class="s2">&quot;matched retention index&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;Unused tags 3&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 5&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;BlobID_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Filter number&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 6&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;Mass concentration of compound (ng/m3)&quot;</span><span class="p">]</span>

<span class="c1"># import csv file</span>
<span class="n">df_blobtable</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/BlodgettCombinedBlobTable.csv&quot;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>

<span class="n">df_blobtable</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unused tags 1</th>
      <th>BlobID1</th>
      <th>Unused tags 2</th>
      <th>1D Retention Time (min)</th>
      <th>2D Retention Time (sec)</th>
      <th>Peak Height</th>
      <th>Peak Volume</th>
      <th>Peak volume/nearest internal standard peak volume</th>
      <th>Calculated d-alkane retention index</th>
      <th>matched retention index</th>
      <th>Unused tags 3</th>
      <th>Unused tags 4</th>
      <th>Unused tags 5</th>
      <th>BlobID_2</th>
      <th>Filter number</th>
      <th>Unused tags 6</th>
      <th>Mass concentration of compound (ng/m3)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>541</td>
      <td>181</td>
      <td>541</td>
      <td>40.608204</td>
      <td>1.026330</td>
      <td>105.022469</td>
      <td>1263.347317</td>
      <td>1.000000</td>
      <td>1652.439024</td>
      <td>1653.0</td>
      <td>866</td>
      <td>868</td>
      <td>39</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>598</td>
      <td>1553</td>
      <td>598</td>
      <td>40.037744</td>
      <td>1.414941</td>
      <td>31.052483</td>
      <td>479.394947</td>
      <td>1.000000</td>
      <td>1634.146341</td>
      <td>1633.0</td>
      <td>775</td>
      <td>782</td>
      <td>32</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>766</td>
      <td>62</td>
      <td>766</td>
      <td>63.502673</td>
      <td>1.135938</td>
      <td>8.124082</td>
      <td>135.140907</td>
      <td>1.000000</td>
      <td>2524.561404</td>
      <td>2520.0</td>
      <td>871</td>
      <td>877</td>
      <td>35</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>530</td>
      <td>776</td>
      <td>530</td>
      <td>27.259436</td>
      <td>1.355154</td>
      <td>281.546460</td>
      <td>3376.619472</td>
      <td>1.000000</td>
      <td>1263.387978</td>
      <td>1277.0</td>
      <td>842</td>
      <td>883</td>
      <td>40</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>540</td>
      <td>61</td>
      <td>540</td>
      <td>32.013271</td>
      <td>0.328824</td>
      <td>118.679093</td>
      <td>946.665804</td>
      <td>1.000000</td>
      <td>1400.000000</td>
      <td>1800.0</td>
      <td>0</td>
      <td>830</td>
      <td>20</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>44635</th>
      <td>970</td>
      <td>2811</td>
      <td>522</td>
      <td>40.312724</td>
      <td>0.981316</td>
      <td>4.096229</td>
      <td>57.013969</td>
      <td>0.019236</td>
      <td>1644.171779</td>
      <td>1646.0</td>
      <td>713</td>
      <td>755</td>
      <td>6</td>
      <td>176</td>
      <td>9</td>
      <td>0.022829</td>
      <td>0.783983</td>
    </tr>
    <tr>
      <th>44636</th>
      <td>529</td>
      <td>2812</td>
      <td>522</td>
      <td>40.274506</td>
      <td>1.131518</td>
      <td>155.203347</td>
      <td>1839.028248</td>
      <td>0.620461</td>
      <td>1642.944785</td>
      <td>1642.0</td>
      <td>837</td>
      <td>845</td>
      <td>824</td>
      <td>176</td>
      <td>9</td>
      <td>4.682465</td>
      <td>160.803335</td>
    </tr>
    <tr>
      <th>44637</th>
      <td>524</td>
      <td>2813</td>
      <td>522</td>
      <td>40.045199</td>
      <td>0.891195</td>
      <td>201.872901</td>
      <td>2958.995344</td>
      <td>0.998322</td>
      <td>1635.582822</td>
      <td>1637.0</td>
      <td>883</td>
      <td>885</td>
      <td>8</td>
      <td>176</td>
      <td>9</td>
      <td>0.712658</td>
      <td>24.473803</td>
    </tr>
    <tr>
      <th>44638</th>
      <td>783</td>
      <td>2818</td>
      <td>530</td>
      <td>45.892543</td>
      <td>0.931249</td>
      <td>6.134070</td>
      <td>124.792845</td>
      <td>0.043840</td>
      <td>1825.675676</td>
      <td>1824.0</td>
      <td>681</td>
      <td>689</td>
      <td>722</td>
      <td>176</td>
      <td>9</td>
      <td>0.038751</td>
      <td>1.330786</td>
    </tr>
    <tr>
      <th>44639</th>
      <td>755</td>
      <td>2838</td>
      <td>548</td>
      <td>46.389376</td>
      <td>0.540725</td>
      <td>7.531315</td>
      <td>125.108783</td>
      <td>0.157806</td>
      <td>1843.243243</td>
      <td>1844.0</td>
      <td>810</td>
      <td>828</td>
      <td>801</td>
      <td>176</td>
      <td>9</td>
      <td>0.200291</td>
      <td>6.878302</td>
    </tr>
  </tbody>
</table>
<p>44640 rows × 17 columns</p>
</div></div></div>
</div>
<p>We can remove all of the columns with the unused tags and drop the NaN’s.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unusedtags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Unused tags 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 3&quot;</span><span class="p">,</span> 
                <span class="s2">&quot;Unused tags 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Unused tags 6&quot;</span><span class="p">]</span>

<span class="c1">#import numpy as np </span>

<span class="c1">#df_blobtable.replace(np.inf, np.nan, inplace=True)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;use_inf_as_na&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_blobtable</span> <span class="o">=</span> <span class="n">df_blobtable</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">unusedtags</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_blobtable</span> <span class="o">=</span> <span class="n">df_blobtable</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_blobtable</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BlobID1</th>
      <th>1D Retention Time (min)</th>
      <th>2D Retention Time (sec)</th>
      <th>Peak Height</th>
      <th>Peak Volume</th>
      <th>Peak volume/nearest internal standard peak volume</th>
      <th>Calculated d-alkane retention index</th>
      <th>matched retention index</th>
      <th>BlobID_2</th>
      <th>Filter number</th>
      <th>Mass concentration of compound (ng/m3)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>181</td>
      <td>40.608204</td>
      <td>1.026330</td>
      <td>105.022469</td>
      <td>1263.347317</td>
      <td>1.000000</td>
      <td>1652.439024</td>
      <td>1653.0</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1553</td>
      <td>40.037744</td>
      <td>1.414941</td>
      <td>31.052483</td>
      <td>479.394947</td>
      <td>1.000000</td>
      <td>1634.146341</td>
      <td>1633.0</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>62</td>
      <td>63.502673</td>
      <td>1.135938</td>
      <td>8.124082</td>
      <td>135.140907</td>
      <td>1.000000</td>
      <td>2524.561404</td>
      <td>2520.0</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>776</td>
      <td>27.259436</td>
      <td>1.355154</td>
      <td>281.546460</td>
      <td>3376.619472</td>
      <td>1.000000</td>
      <td>1263.387978</td>
      <td>1277.0</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>61</td>
      <td>32.013271</td>
      <td>0.328824</td>
      <td>118.679093</td>
      <td>946.665804</td>
      <td>1.000000</td>
      <td>1400.000000</td>
      <td>1800.0</td>
      <td>0</td>
      <td>201</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>44635</th>
      <td>2811</td>
      <td>40.312724</td>
      <td>0.981316</td>
      <td>4.096229</td>
      <td>57.013969</td>
      <td>0.019236</td>
      <td>1644.171779</td>
      <td>1646.0</td>
      <td>176</td>
      <td>9</td>
      <td>0.783983</td>
    </tr>
    <tr>
      <th>44636</th>
      <td>2812</td>
      <td>40.274506</td>
      <td>1.131518</td>
      <td>155.203347</td>
      <td>1839.028248</td>
      <td>0.620461</td>
      <td>1642.944785</td>
      <td>1642.0</td>
      <td>176</td>
      <td>9</td>
      <td>160.803335</td>
    </tr>
    <tr>
      <th>44637</th>
      <td>2813</td>
      <td>40.045199</td>
      <td>0.891195</td>
      <td>201.872901</td>
      <td>2958.995344</td>
      <td>0.998322</td>
      <td>1635.582822</td>
      <td>1637.0</td>
      <td>176</td>
      <td>9</td>
      <td>24.473803</td>
    </tr>
    <tr>
      <th>44638</th>
      <td>2818</td>
      <td>45.892543</td>
      <td>0.931249</td>
      <td>6.134070</td>
      <td>124.792845</td>
      <td>0.043840</td>
      <td>1825.675676</td>
      <td>1824.0</td>
      <td>176</td>
      <td>9</td>
      <td>1.330786</td>
    </tr>
    <tr>
      <th>44639</th>
      <td>2838</td>
      <td>46.389376</td>
      <td>0.540725</td>
      <td>7.531315</td>
      <td>125.108783</td>
      <td>0.157806</td>
      <td>1843.243243</td>
      <td>1844.0</td>
      <td>176</td>
      <td>9</td>
      <td>6.878302</td>
    </tr>
  </tbody>
</table>
<p>43394 rows × 11 columns</p>
</div></div></div>
</div>
</section>
<section id="all-shrubcovonly-01-16-xlsx">
<h4>All_ShrubCovOnly_01_16.xlsx<a class="headerlink" href="#all-shrubcovonly-01-16-xlsx" title="Permalink to this headline">#</a></h4>
<p>We can also load in the data from All_ShrubCovOnly_01_16.xlsx to get information about what plants are present at certain sites.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_shrub</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/All_ShrubCovOnly_01_16.xlsx&quot;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;16&quot;</span><span class="p">)</span>

<span class="n">df_shrub</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/compat/_optional.py:138,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">137</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">138</span>     <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">139</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>

<span class="nn">File /opt/conda/lib/python3.9/importlib/__init__.py:127,</span> in <span class="ni">import_module</span><span class="nt">(name, package)</span>
<span class="g g-Whitespace">    </span><span class="mi">126</span>         <span class="n">level</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="ne">--&gt; </span><span class="mi">127</span> <span class="k">return</span> <span class="n">_bootstrap</span><span class="o">.</span><span class="n">_gcd_import</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="n">level</span><span class="p">:],</span> <span class="n">package</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1030,</span> in <span class="ni">_gcd_import</span><span class="nt">(name, package, level)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1007,</span> in <span class="ni">_find_and_load</span><span class="nt">(name, import_)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:984,</span> in <span class="ni">_find_and_load_unlocked</span><span class="nt">(name, import_)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;openpyxl&#39;

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ImportError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="nn">Input In [4],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df_shrub</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/All_ShrubCovOnly_01_16.xlsx&quot;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;16&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">df_shrub</span>

<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/util/_decorators.py:311,</span> in <span class="ni">deprecate_nonkeyword_arguments.&lt;locals&gt;.decorate.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">num_allow_args</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="ne">FutureWarning</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>         <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">311</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/io/excel/_base.py:457,</span> in <span class="ni">read_excel</span><span class="nt">(io, sheet_name, header, names, index_col, usecols, squeeze, dtype, engine, converters, true_values, false_values, skiprows, nrows, na_values, keep_default_na, na_filter, verbose, parse_dates, date_parser, thousands, decimal, comment, skipfooter, convert_float, mangle_dupe_cols, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">455</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">ExcelFile</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">456</span>     <span class="n">should_close</span> <span class="o">=</span> <span class="kc">True</span>
<span class="ne">--&gt; </span><span class="mi">457</span>     <span class="n">io</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">458</span> <span class="k">elif</span> <span class="n">engine</span> <span class="ow">and</span> <span class="n">engine</span> <span class="o">!=</span> <span class="n">io</span><span class="o">.</span><span class="n">engine</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">459</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">460</span>         <span class="s2">&quot;Engine should not be specified when passing &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">461</span>         <span class="s2">&quot;an ExcelFile - ExcelFile already has the engine set&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">462</span>     <span class="p">)</span>

<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/io/excel/_base.py:1419,</span> in <span class="ni">ExcelFile.__init__</span><span class="nt">(self, path_or_buffer, engine, storage_options)</span>
<span class="g g-Whitespace">   </span><span class="mi">1416</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
<span class="g g-Whitespace">   </span><span class="mi">1417</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="o">=</span> <span class="n">storage_options</span>
<span class="ne">-&gt; </span><span class="mi">1419</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engines</span><span class="p">[</span><span class="n">engine</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">_io</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span>

<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py:524,</span> in <span class="ni">OpenpyxlReader.__init__</span><span class="nt">(self, filepath_or_buffer, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">509</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">510</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">511</span>     <span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePath</span> <span class="o">|</span> <span class="n">ReadBuffer</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">512</span>     <span class="n">storage_options</span><span class="p">:</span> <span class="n">StorageOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">513</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">514</span>     <span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span><span class="sd">     Reader using openpyxl engine.</span>
<span class="g g-Whitespace">    </span><span class="mi">516</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">522</span><span class="sd">         passed to fsspec for appropriate URLs (see ``_get_filepath_or_buffer``)</span>
<span class="g g-Whitespace">    </span><span class="mi">523</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">524</span>     <span class="n">import_optional_dependency</span><span class="p">(</span><span class="s2">&quot;openpyxl&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">525</span>     <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span>

<span class="nn">File /opt/conda/lib/python3.9/site-packages/pandas/compat/_optional.py:141,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">139</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">140</span>     <span class="k">if</span> <span class="n">errors</span> <span class="o">==</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">141</span>         <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">142</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">143</span>         <span class="k">return</span> <span class="kc">None</span>

<span class="ne">ImportError</span>: Missing optional dependency &#39;openpyxl&#39;.  Use pip or conda to install openpyxl.
</pre></div>
</div>
</div>
</div>
</section>
<section id="bfrsplantcodes-xlsx">
<h4>BFRSPlantCodes.xlsx<a class="headerlink" href="#bfrsplantcodes-xlsx" title="Permalink to this headline">#</a></h4>
<p>Now the data from BFRSPlantCodes.xlsx is read in to get information that links the shorthand code name to the real plant name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plantnames</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/BFRSPlantCodes.xlsx&quot;</span><span class="p">)</span>

<span class="n">df_plantnames</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="run-log-xlsx">
<h4>Run_Log.xlsx<a class="headerlink" href="#run-log-xlsx" title="Permalink to this headline">#</a></h4>
<p>We can also load in the data from Run_Log.xlsx for data collected during the flight and ground collections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_filter_flight</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/Run_Log.xlsx&quot;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Flight Log&quot;</span><span class="p">)</span>

<span class="n">df_filter_flight</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_filter_ground</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/Run_Log.xlsx&quot;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Ground Station&quot;</span><span class="p">)</span>

<span class="n">df_filter_ground</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="predicting-mass-concentration-from-bloblid">
<h3>Predicting Mass Concentration from BloblID<a class="headerlink" href="#predicting-mass-concentration-from-bloblid" title="Permalink to this headline">#</a></h3>
<p>Now that some of the data has been read in, we can start to make our model. For this simple example model, we will try and predict a correlation between the BlobID, or the compound, and the amount of that compound in the smoke, given by the mass concentration. We will use RandomForestRegressor as part of sklearn.</p>
<p>We start with splittig our data into a train/test split.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">,</span> <span class="n">Y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">df_blobtable</span><span class="p">[</span><span class="s2">&quot;BlobID1&quot;</span><span class="p">],</span> <span class="n">df_blobtable</span><span class="p">[</span><span class="s2">&quot;Mass concentration of compound (ng/m3)&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>We will now fit the correlation between the BlobID and mass flow of that compound in the smoke. We will then test it on the test data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Y_train</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Y_train</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Y_test</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;BlobID&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Mass Concentration of Compound in Smoke (ng/m3) &#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Train Data&#39;</span><span class="p">,</span> <span class="s1">&#39;Test Data&#39;</span><span class="p">,</span> <span class="s1">&#39;Prediction&#39;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</div>
<p>This model is not too conclusive about the mass concentration of the compound based on it’s BlobID. This could be due to the data being collected at multiple plots and both measured on the ground and in the air. To improve upon this, you can try and see if there is a correlation between the mass concentration of a compound at a certain plot, or the elevation during a burn.</p>
<p>There are also several other paths you can take for your project. However, this simple model does show how you can load in the data and start to use it.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./projects/wildfires"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Course Project Overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../catalysts/catalyst_simulation.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using ML to Predict Catalyst Properties</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Zachary Ulissi<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>